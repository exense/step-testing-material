---
schemaVersion: 1.0.0
name: "load-testing-k6-automation-package"
keywords:
  # Declare a Keyword which runs the K6 test 'opencart-test.js' with 1 VU and 1 iteration
  - K6:
      name: 'OpenCart Journey 10x'
      vus: 1
      iterations: 1
      scriptFile: "k6-tests/opencart-test.js"
plans:
  - name: "K6 - Load Testing OpenCart"
    # The agents (workers) are automatically determined and provisioned upon execution
    agents: auto_detect
    root:
      testScenario:
        children:
          # Declare a ThreadGroup that distributes the execution of the Keyword (and thus the K6 test)
          - threadGroup:
              # Distributes across 3 workers
              users: 3
              # Each worker executes the Keyword 2 times 
              iterations: 2
              children:
                - callKeyword:
                    # Call the defined Keyword
                    keyword: "OpenCart Journey 10x"